version: '3.3'
services:
    spring-boot-kata:
        build:
            context: ./
            dockerfile: Dockerfile
        volumes:
            - './:/app'
        working_dir: /app
        command:
            - ./wait-for-it.sh
            - 'redis:6379'
            - '--'
            - sh
            - run.sh
        depends_on:
            - redis
        links:
            - redis
        ports:
            - '8080:8080'
    redis:
        image: redis
        expose:
            - 6379
